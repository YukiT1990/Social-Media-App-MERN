{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/closeFriend/CloseFriend.jsx","components/sidebar/Sidebar.jsx","components/topbar/Topbar.jsx","components/post/Post.jsx","components/share/Share.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","apiCalls.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","pages/rightbar/RightbarPage.jsx","pages/targetPost/TargetPost.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","CloseFriend","PF","process","className","src","profilePicture","alt","username","Sidebar","useState","allUsers","setAllUsers","a","axios","get","allUsersList","data","console","log","getAllUsers","RssFeed","Chat","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","map","to","id","_id","Topbar","useContext","searching","setSearching","sidebarOpen","setSidebarOpen","location","useLocation","width","setWidth","updateWidth","event","window","innerWidth","searchKeyword","setSearchKeyword","keyword","useRef","resultUsers","setResultUsers","resultPosts","setResultPosts","addEventListener","capture","passive","removeEventListener","pathname","result","searchUsers","searchPosts","onClick","Menu","Close","Search","placeholder","ref","defaultValue","onChange","current","logoutHandler","Person","Notifications","MenuOpen","length","post","desc","substring","Post","likes","like","setLike","isLiked","setIsLiked","setUser","currentUser","React","anchorEl","setAnchorEl","editing","setEditing","descEditing","setDescEditing","includes","userId","res","fetchUser","likeHandler","put","err","handleClose","format","createdAt","Button","aria-controls","aria-haspopup","handleClick","currentTarget","MoreVert","keepMounted","open","Boolean","onClose","MenuItem","editingHandler","deleteHandler","delete","reload","onSubmit","updateHandler","updatePost","e","changeHandler","target","img","comment","Share","file","setFile","submitHandler","preventDefault","newPost","FormData","fileName","Date","now","name","append","URL","createObjectURL","Cancel","htmlFor","PermMedia","htmlColor","accept","files","Label","Room","EmojiEmotions","Feed","posts","setPosts","sort","p1","p2","fetchPosts","p","Online","Rightbar","friends","setFriends","followed","setFollowed","city","from","relationship","dummyUsers","setDummyUsers","friendList","getFriends","fetch","then","json","editHandler","editProfileHandler","updateUser","HomeRightbar","ProfileRightbar","Remove","Add","Edit","friend","Home","loginCall","userCredential","Login","email","password","required","minLength","disabled","CircularProgress","color","size","Profile","useParams","editingDesc","setEditingDesc","editingUserImg","setEditingUserImg","editingCoverImg","setEditingCoverImg","userImgFile","setUserImgFile","coverImgFile","setCoverImgFile","submitUserImgHandler","newUser","submitCoverImgHandler","coverPicture","editDescHandler","Register","passwordAgain","history","useHistory","setCustomValidity","push","RightbarPage","TargetPost","postid","setPostid","setPost","getTargetPost","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59601f82.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload,\n        isFetching: false,\n        error: false,\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        isFetching: false,\n        error: true,\n      };\n    case \"LOGOUT\":\n      return {\n        user: null,\n        isFetching: false,\n        error: false,\n      };\n    case \"FOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: [...state.user.followings, action.payload],\n        },\n      };\n    case \"UNFOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: state.user.followings.filter(\n            (following) => following !== action.payload\n          ),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;","import { createContext, useEffect, useReducer } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false\n};\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user))\n  }, [state.user])\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}","import \"./closeFriend.css\";\n\nexport default function CloseFriend({ user }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  return (\n    <li className=\"sidebarFriend\">\n      <img className=\"sidebarFriendImg\" src={user.profilePicture ? PF + user.profilePicture : `${PF}fish/noAvatar.jpg`} alt=\"\" />\n      <span className=\"sidebarFriendName\">{user.username}</span>\n    </li>\n  )\n}\n","import \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n  PlayCircleFilledOutlined,\n  Group,\n  Bookmark,\n  HelpOutline,\n  WorkOutline,\n  Event,\n  School,\n} from \"@material-ui/icons\";\nimport CloseFriend from \"../closeFriend/CloseFriend\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Sidebar() {\n  const [allUsers, setAllUsers] = useState([]);\n\n  useEffect(() => {\n    const getAllUsers = async () => {\n      try {\n        const allUsersList = await axios.get(\"/users/all\");\n        setAllUsers(allUsersList.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getAllUsers();\n  }, []);\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <ul className=\"sidebarList\">\n          <li className=\"sidebarListItem\">\n            <RssFeed className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Feed</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Chat className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Chats</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <PlayCircleFilledOutlined className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Videos</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Group className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Groups</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Bookmark className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Bookmarks</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <HelpOutline className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Questions</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <WorkOutline className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Jobs</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <Event className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Events</span>\n          </li>\n          <li className=\"sidebarListItem\">\n            <School className=\"sidebarIcon\" />\n            <span className=\"sidebarListItemText\">Courses</span>\n          </li>\n        </ul>\n        <button className=\"sidebarButton\">Show More</button>\n        <hr className=\"sidebarHr\" />\n        <h3>All Users</h3>\n        <ul className=\"sidebarFriendList\">\n          {allUsers.map((user) => (\n            <Link\n              key={user._id}\n              to={\"/profile/\" + user.username}\n              className=\"sidebarLinks\"\n            >\n              <CloseFriend key={user.id} user={user} />\n            </Link>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}","import \"./topbar.css\";\nimport { Search, Person, Chat, Notifications, MenuOpen, Menu, Close } from \"@material-ui/icons\";\nimport { Link, useLocation } from \"react-router-dom\"\nimport { useContext, useRef, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport axios from \"axios\";\n// import RightbarPage from \"../../components/rightbarPage/RightbarPage\";\nconst WIDTH_THRESHOLD_LARGE = 1100;\n// const WIDTH_THRESHOLD_MEDIUM = 800;\n\nexport default function Topbar() {\n  const { user, dispatch } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [searching, setSearching] = useState(false);\n  // const [rightbarOpen, setRightbarOpen] = useState();\n  const [sidebarOpen, setSidebarOpen] = useState();\n  const location = useLocation();\n  // const [path, setPath] = useState(location.pathname);\n  const [width, setWidth] = useState(null)\n  const updateWidth = (event) => {\n    setWidth(window.innerWidth)\n  }\n  const [searchKeyword, setSearchKeyword] = useState(null);\n  const keyword = useRef();\n  const [resultUsers, setResultUsers] = useState([]);\n  const [resultPosts, setResultPosts] = useState([]);\n\n\n  useEffect(() => {\n    window.addEventListener(`resize`, updateWidth, {\n      capture: false,\n      passive: true,\n    })\n    return () => window.removeEventListener(`resize`, updateWidth)\n  })\n\n  useEffect(() => {\n    console.log(\"close sidebar and rightbar\");\n    // setRightbarOpen(false);\n    setSidebarOpen(false);\n    setSearchKeyword(null);\n    setResultUsers([]);\n    setResultPosts([]);\n  }, [location.pathname])\n\n  // console.log(\"width: \" + width);\n  // console.log(\"location.pathname: \" + location.pathname);\n  // console.log(\"path: \" + path);\n  // console.log(\"searchKeyword: \" + searchKeyword);  //resultUsers\n  // console.log(\"resultUsers: \" + resultUsers);\n\n  const logoutHandler = () => {\n    dispatch({ type: \"LOGOUT\" });\n  };\n\n  useEffect(() => {\n    if (searchKeyword) {\n      const searchUsers = async () => {\n        try {\n          const result = await axios.get(\"/users/search/\" + searchKeyword);\n          setResultUsers(result.data);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      searchUsers();\n      const searchPosts = async () => {\n        try {\n          const result = await axios.get(\"/posts/search/\" + searchKeyword);\n          setResultPosts(result.data);\n        } catch (err) {\n          console.log(err);\n        }\n      };\n      searchPosts();\n    } else {\n      setResultUsers([]);\n      setResultPosts([]);\n    }\n  }, [searchKeyword])\n\n  return (\n    <>\n      <div className=\"topbarContainer\">\n        <div className=\"topbarLeft\">\n          <div className=\"sidebarIcon\" onClick={() => setSidebarOpen(!sidebarOpen)}>\n            {!sidebarOpen && (\n              <Menu />\n            )}\n            {sidebarOpen && (\n              <Close />\n            )}\n          </div>\n          <Link\n            className=\"topbarLink\"\n            to=\"/\"\n          >\n            <span className=\"logo\">Under The Water</span>\n          </Link>\n        </div>\n        <div className=\"topbarCenter\">\n          <div className=\"searchbar\">\n            <Search className=\"searchIcon\" />\n            {/* search input for large screen */}\n            <input\n              placeholder=\"Search for friend or post\"\n              className=\"searchInput\"\n              ref={keyword}\n              defaultValue={searchKeyword}\n              onChange={keyword.current ? () => setSearchKeyword(keyword.current.value) : () => setSearchKeyword(null)}\n            />\n          </div>\n          <div className=\"searchIconForSmallScreen\">\n            <Search className=\"searchIcon\" onClick={() => setSearching(!searching)} />\n\n          </div>\n\n        </div>\n        <div className=\"topbarRight\">\n          <div className=\"topbarLinks\">\n\n            <Link to=\"/\" className=\"topbarLink\">\n              <span className=\"topbarLink\">Homepage</span>\n            </Link>\n            <Link to={`/profile/${user.username}`} className=\"topbarLink\">\n              <span className=\"topbarLink\">Timeline</span>\n            </Link>\n            {user &&\n              <span className=\"topbarLink\" onClick={logoutHandler}>Logout</span>\n            }\n            {!user &&\n              <Link to=\"/login\" className=\"topbarLink\">\n                <span className=\"topbarLink\">Login</span>\n              </Link>\n            }\n          </div>\n          <div className=\"topbarIcons\">\n            <div className=\"topbarIconItem\">\n              <Person />\n              <span className=\"topbarIconBadge\">1</span>\n            </div>\n            <div className=\"topbarIconItem\">\n              <Chat />\n              <span className=\"topbarIconBadge\">2</span>\n            </div>\n            <div className=\"topbarIconItem\">\n              <Notifications />\n              <span className=\"topbarIconBadge\">1</span>\n            </div>\n          </div>\n          <Link to={`/profile/${user.username}`}>\n            <img\n              src={\n                user.profilePicture\n                  ? PF + user.profilePicture\n                  : PF + \"fish/noAvatar.jpg\"\n              }\n              alt=\"\"\n              className=\"topbarImg\"\n            />\n          </Link>\n\n          <div className=\"smallscreen\">\n            <Link to={`/rightbar/${user.username}`} className=\"nonedecowhite\">\n              <MenuOpen />\n            </Link>\n          </div>\n\n          {/* <div className=\"smallscreen\" onClick={() => setRightbarOpen(!rightbarOpen)}>\n            {!rightbarOpen && (\n              <MenuOpen />\n            )}\n            {rightbarOpen && (\n              <Close />\n            )}\n          </div> */}\n\n        </div>\n      </div>\n      {searching && (\n        <div className=\"searchInputForSmallScreen\">\n          {/* search input for small screen */}\n          <input\n            placeholder=\"Search for friend or post\"\n            className=\"searchInput\"\n            ref={keyword}\n            defaultValue={searchKeyword}\n            onChange={keyword.current ? () => setSearchKeyword(keyword.current.value) : () => setSearchKeyword(null)}\n          />\n        </div>\n      )}\n      <div className=\"searchresults\">\n        {width < WIDTH_THRESHOLD_LARGE && sidebarOpen && (\n          <div className=\"sidebar\">\n            <Sidebar />\n          </div>\n        )}\n        {searchKeyword && resultUsers && resultUsers.length > 0 && (\n          <h3>User</h3>\n        )}\n        {resultUsers && resultUsers.length > 0 && (\n          resultUsers.map((user) => (\n            <Link\n              to={\"/profile/\" + user.username}\n              className=\"nonedecoblack\"\n              key={user._id}\n            >\n              <p>{user.username}</p>\n            </Link>\n          )\n          ))}\n\n        {searchKeyword && resultPosts && resultPosts.length > 0 && (\n          <h3>Post</h3>\n        )}\n        {resultPosts && resultPosts.length > 0 && (\n          resultPosts.map((post) => (\n            <Link\n              to={`/post/${post._id}`}\n              className=\"nonedecoblack\"\n              key={post._id}\n            >\n              <p>\n                {post.desc && post.desc.length < 50 ? post.desc : post.desc.substring(0, 50)}\n              </p>\n            </Link>\n          )\n          ))}\n      </div>\n      {/* {width < WIDTH_THRESHOLD_MEDIUM && rightbarOpen && (\n        <RightbarPage />\n      )} */}\n    </>\n  );\n}\n","import \"./post.css\";\nimport { MoreVert } from \"@material-ui/icons\";\nimport React, { useContext, useRef, useEffect, useState } from \"react\";\nimport axios from \"axios\"\nimport { format } from \"timeago.js\"\nimport { Link } from \"react-router-dom\"\nimport { AuthContext } from \"../../context/AuthContext\";\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport default function Post({ post }) {\n  const [like, setLike] = useState(post.likes.length);\n  const [isLiked, setIsLiked] = useState(false);\n  const [user, setUser] = useState({});\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const { user: currentUser } = useContext(AuthContext);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const desc = useRef();\n  const [editing, setEditing] = useState(false);\n  const [descEditing, setDescEditing] = useState();\n\n  useEffect(() => {\n    setIsLiked(post.likes.includes(currentUser._id));\n  }, [currentUser._id, post.likes]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`/users?userId=${post.userId}`);\n      setUser(res.data);\n    }\n    fetchUser();\n  }, [post.userId]);\n\n  const likeHandler = () => {\n    try {\n      axios.put(\"/posts/\" + post._id + \"/like\", { userId: currentUser._id });\n    } catch (err) { }\n    setLike(isLiked ? like - 1 : like + 1);\n    setIsLiked(!isLiked);\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const editingHandler = () => {\n    setDescEditing(post?.desc);\n    handleClose();\n    setEditing(true);\n  }\n\n  const updateHandler = () => {\n    const updatePost = {\n      userId: currentUser._id,\n      desc: desc.current.value,\n    }\n    try {\n      axios.put(\"/posts/\" + post._id, updatePost);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n    setEditing(false);\n  };\n\n  const deleteHandler = () => {\n    try {\n      axios.delete(\"/posts/\" + post._id, { userId: currentUser._id });\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const changeHandler = (value) => {\n    setDescEditing(value);\n  }\n\n  return (\n    <div className=\"post\">\n      <div className=\"postWrapper\">\n        <div className=\"postTop\">\n          <div className=\"postTopLeft\">\n            <Link to={`/profile/${user.username}`}>\n              <img\n                className=\"postProfileImg\"\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : `${PF}fish/noAvatar.jpg`\n                }\n                alt=\"\"\n              />\n            </Link>\n            <span className=\"postUsername\">\n              {user.username}\n              {/* <p>{\"post._id: \" + post._id}</p>\n              <p>{\"currentUser._id: \" + currentUser._id}</p> */}\n            </span>\n            <span className=\"postDate\">{format(post.createdAt)}</span>\n          </div>\n          <div className=\"postTopRight\">\n            {user._id === currentUser._id && (\n              <>\n                <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                  <MoreVert />\n                </Button>\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <MenuItem onClick={editingHandler}>Edit</MenuItem>\n                  <MenuItem onClick={deleteHandler}>Delete</MenuItem>\n                  <MenuItem onClick={handleClose}>Close</MenuItem>\n                </Menu>\n              </>\n            )}\n          </div>\n        </div>\n        <div className=\"postCenter\">\n          {!editing && (\n            <span className=\"postText\">{post?.desc}</span>\n          )}\n          {editing && (\n            <>\n              <form onSubmit={updateHandler} className=\"updateForm\">\n                <input\n                  value={descEditing}\n                  className=\"postEdit\"\n                  ref={desc}\n                  onChange={(e) => changeHandler(e.target.value)}\n                />\n                <button className=\"updateButoon\" type=\"submit\">\n                  Update\n                </button>\n              </form>\n              <button onClick={() => setEditing(false)} className=\"cancelButton\">Cancel Editing</button>\n            </>\n          )}\n\n          <img className=\"postImg\" src={PF + post.img} alt=\"\" />\n        </div>\n        <div className=\"postBottom\">\n          <div className=\"postBottomLeft\">\n            <img className=\"likeIcon\" src={`${PF}like.png`} onClick={likeHandler} alt=\"\" />\n            <img className=\"likeIcon\" src={`${PF}heart.png`} onClick={likeHandler} alt=\"\" />\n            <span className=\"postLikeCounter\">{like} fish like it</span>\n          </div>\n          <div className=\"postBottomRight\">\n            <span className=\"postCommentText\">{post.comment} comments</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","import \"./share.css\";\nimport { PermMedia, Label, Room, EmojiEmotions, Cancel } from \"@material-ui/icons\"\nimport { useContext, useRef, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\n\nexport default function Share() {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const desc = useRef();\n  const [file, setFile] = useState(null);\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    const newPost = {\n      userId: user._id,\n      desc: desc.current.value,\n    };\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      // for postman\n      // const fileName = file.name;\n      data.append(\"name\", fileName);\n      data.append(\"file\", file);\n      newPost.img = fileName;\n      console.log(newPost);\n      try {\n        await axios.post(\"/upload\", data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    try {\n      await axios.post(\"/posts\", newPost);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"share\">\n      <div className=\"shareWrapper\">\n        <div className=\"shareTop\">\n          <img\n            className=\"shareProfileImg\"\n            src={\n              user.profilePicture\n                ? PF + user.profilePicture\n                : PF + \"fish/noAvatar.jpg\"\n            }\n            alt=\"\"\n          />\n          <input\n            placeholder={\"What's up \" + user.username + \"?\"}\n            className=\"shareInput\"\n            ref={desc}\n          />\n        </div>\n        <hr className=\"shareHr\" />\n        {file && (\n          <div className=\"shareImgContainer\">\n            <img className=\"shareImg\" src={URL.createObjectURL(file)} alt=\"\" />\n            <Cancel className=\"shareCancelImg\" onClick={() => setFile(null)} />\n          </div>\n        )}\n        <form className=\"shareBottom\" onSubmit={submitHandler}>\n          <div className=\"shareOptions\">\n            <label htmlFor=\"file\" className=\"shareOption\">\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Photo or Video</span>\n              <input\n                className=\"inputforshare\"\n                type=\"file\"\n                id=\"file\"\n                accept=\".png,.jpeg,.jpg\"\n                onChange={(e) => setFile(e.target.files[0])}\n              />\n            </label>\n            <div className=\"shareOption\">\n              <Label htmlColor=\"blue\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Tag</span>\n            </div>\n            <div className=\"shareOption\">\n              <Room htmlColor=\"green\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Location</span>\n            </div>\n            <div className=\"shareOption\">\n              <EmojiEmotions htmlColor=\"goldenrod\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Feelings</span>\n            </div>\n          </div>\n          <button className=\"shareButton\" type=\"submit\">\n            Share\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}","import Post from \"../post/Post\";\nimport Share from \"../share/Share\";\nimport \"./feed.css\";\nimport { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\"\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Feed({ username }) {\n  const [posts, setPosts] = useState([]);\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const res = username\n        ? await axios.get(\"/posts/profile/\" + username)\n        : await axios.get(\"posts/timeline/\" + user._id);\n      // setPosts(res.data);\n      // from newest to oldest\n      setPosts(\n        res.data.sort((p1, p2) => {\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\n        })\n      );\n    };\n    fetchPosts();\n  }, [username, user._id])\n\n  return (\n    <div className=\"feed\">\n      <div className=\"feedWrapper\">\n        {posts.length === 0 && (\n          <p className=\"nopost\">No post yet.</p>\n        )}\n        {(!username || username === user.username) && <Share />}\n        {posts.map((p) => (\n          <Post key={p._id} post={p} />\n        ))}\n      </div>\n    </div>\n  );\n}","import \"./online.css\";\n\nexport default function Online({ user }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  return (\n    <li className=\"rightbarFriend\">\n      <div className=\"rightbarProfileImgCountainer\">\n        <img\n          className=\"rightbarProfileImg\"\n          src={PF + user.profilePicture}\n          alt=\"\"\n        />\n        <span className=\"rightbarOnline\"></span>\n      </div>\n      <span className=\"rightbarUsername\">{user.username}</span>\n    </li>\n  )\n}\n","import \"./rightbar.css\";\nimport Online from \"../online/Online\";\nimport { useContext, useRef, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Add, Remove, Edit } from \"@material-ui/icons\";\n\nexport default function Rightbar({ user }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(\n    currentUser.followings.includes(user?._id)\n  );\n  const [editing, setEditing] = useState(false);\n  const city = useRef();\n  const from = useRef();\n  const relationship = useRef();\n  const [dummyUsers, setDummyUsers] = useState([]);\n\n\n  useEffect(() => {\n    setFollowed(currentUser.followings.includes(user?._id))\n  }, [currentUser, user?._id, followed])\n\n  useEffect(() => {\n    const getFriends = async () => {\n      try {\n        const friendList = await axios.get(\"/users/friends/\" + user._id);\n        setFriends(friendList.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getFriends();\n  }, [user]);\n\n  useEffect(() => {\n    // dummy user data\n    fetch(\"https://my-json-server.typicode.com/YukiT1990/Social-Media-App-MERN/Users\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          setDummyUsers(result);\n        },\n        (error) => {\n          console.log(error);\n        }\n      )\n  }, [])\n\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`/users/${user._id}/unfollow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"UNFOLLOW\", payload: user._id });\n      } else {\n        await axios.put(`/users/${user._id}/follow`, {\n          userId: currentUser._id,\n        });\n        dispatch({ type: \"FOLLOW\", payload: user._id });\n      }\n      setFollowed(!followed);\n    } catch (err) {\n    }\n  };\n\n  // console.log(\"followed: \" + followed);\n\n  const editHandler = () => {\n    setEditing(true);\n    // setCityEditing(user.city);\n    // setFromEditing(user.from);\n  }\n\n  const editProfileHandler = (e) => {\n\n    console.log(\"edit submit\")\n    const updateUser = {\n      userId: user._id,\n      // password: user.password,\n      city: city.current.value,\n      from: from.current.value,\n      relationship: relationship.current.value,\n    };\n    try {\n      axios.put(\"/users/\" + user._id, updateUser);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n    setEditing(false);\n  }\n\n  const HomeRightbar = () => {\n    // console.log(\"dummyUsers: \" + JSON.stringify(dummyUsers, null, 2));\n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img className=\"birthdayImg\" src={`${PF}gift.png`} alt=\"\" />\n          <span className=\"birthdayText\">\n            <b>Commet</b> and <b>3 other friends</b> have a birhday today.\n          </span>\n        </div>\n        <p>Advertisement</p>\n        <img className=\"rightbarAd\" src={`${PF}ad.jpg`} alt=\"\" />\n        <h4 className=\"rightbarTitle\">Users also viewed</h4>\n        <ul className=\"rightbarFriendList\">\n          {dummyUsers.map((user) => (\n            <Online key={user.id} user={user} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n    return (\n      <>\n        {user.username !== currentUser.username && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? \"Unfollow\" : \"Follow\"}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n        {/* <div className=\"flexContainer\">\n          <h4 className=\"rightbarTitle\">User information</h4>\n          <span className=\"profileEdit\"><Edit htmlColor=\"Black\" className=\"editIcon\" onClick={editHandler} /></span>\n        </div> */}\n\n        {!editing && (\n          <>\n            <div className=\"flexContainer\">\n              <h4 className=\"rightbarTitle\">User information</h4>\n              {user._id === currentUser._id && (\n                <span className=\"profileEdit\"><Edit htmlColor=\"Black\" className=\"editIcon\" onClick={editHandler} /></span>\n              )}\n            </div>\n            <div className=\"rightbarInfo\">\n              <div className=\"rightbarInfoItem\">\n                <span className=\"rightbarInfoKey\">City:</span>\n                <span className=\"rightbarInfoValue\">{user.city}</span>\n              </div>\n              <div className=\"rightbarInfoItem\">\n                <span className=\"rightbarInfoKey\">From:</span>\n                <span className=\"rightbarInfoValue\">{user.from}</span>\n              </div>\n              <div className=\"rightbarInfoItem\">\n                <span className=\"rightbarInfoKey\">Relationship:</span>\n                <span className=\"rightbarInfoValue\">\n                  {user.relationship === 1\n                    ? \"Single\"\n                    : user.relationship === 2\n                      ? \"Married\"\n                      : \"-\"}\n                </span>\n              </div>\n            </div>\n          </>\n        )}\n\n        {editing && (\n          <>\n            <div className=\"flexContainer\">\n              <h4 className=\"rightbarTitle\">User information</h4>\n\n            </div>\n            <form className=\"rightbarInfo\" onSubmit={editProfileHandler}>\n              <div className=\"rightbarInfoItem\">\n                <span className=\"rightbarInfoKey\">City:</span>\n                <input\n                  defaultValue={user.city}\n                  className=\"cityfromEdit\"\n                  ref={city}\n                />\n              </div>\n              <div className=\"rightbarInfoItem\">\n                <span className=\"rightbarInfoKey\">From:</span>\n                <input\n                  defaultValue={user.from}\n                  className=\"cityfromEdit\"\n                  ref={from}\n                />\n              </div>\n              <div className=\"rightbarInfoItem\">\n                <span className=\"rightbarInfoKey\">Relationship:</span>\n                <select defaultValue={user.relationship} ref={relationship} name=\"relationship-menu\" id=\"relationship-menu\">\n                  <option value=\"1\">Single</option>\n                  <option value=\"2\">Married</option>\n                  <option value=\"3\"> - </option>\n                </select>\n              </div>\n              <button className=\"cancelButton\" onClick={() => setEditing(false)}>Cancel</button>\n              <button className=\"uploadButton\" type=\"submit\">Submit</button>\n            </form>\n          </>\n        )}\n\n        <h4 className=\"rightbarTitle\">User friends</h4>\n        <div className=\"rightbarFollowings\">\n          {friends.map((friend) => (\n            <Link\n              to={\"/profile/\" + friend.username}\n              key={friend._id}\n              className=\"rightbarLinks\"\n            >\n              <div className=\"rightbarFollowing\">\n                <img\n                  src={\n                    friend.profilePicture\n                      ? PF + friend.profilePicture\n                      : `${PF}fish/noAvatar.jpg`\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <div className=\"rightbar\">\n      <div className=\"rightbarWrapper\">\n        {user ? <ProfileRightbar /> : <HomeRightbar />}\n      </div>\n    </div>\n  );\n}","import React from 'react'\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport \"./home.css\"\n\nexport default function Home() {\n  return (\n    <>\n      <Topbar />\n      <div className=\"homeContainerH\">\n        <div className=\"sidebarContainerH\">\n          <Sidebar />\n        </div>\n        <div className=\"feedContainerH\">\n          <Feed />\n        </div>\n        <div className=\"rightbarContainerH\">\n          <Rightbar />\n        </div>\n      </div>\n    </>\n  )\n}\n","import axios from \"axios\";\n\nexport const loginCall = async (userCredential, dispatch) => {\n  dispatch({ type: \"LOGIN_START\" });\n  try {\n    const res = await axios.post(\"/auth/login\", userCredential);\n    dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\n  } catch (err) {\n    dispatch({ type: \"LOGIN_FAILURE\", payload: err });\n  }\n};","import \"./login.css\";\nimport { useContext, useRef } from \"react\"\nimport { loginCall } from \"../../apiCalls\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\"\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n  const { user, isFetching, dispatch } = useContext(AuthContext);\n\n  const handleClick = (e) => {\n    e.preventDefault()\n    loginCall(\n      { email: email.current.value, password: password.current.value },\n      dispatch\n    );\n  }\n\n  console.log(user);\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Under The Water</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <input\n              placeholder=\"Password\"\n              type=\"password\"\n              required\n              minLength=\"6\"\n              className=\"loginInput\"\n              ref={password}\n            />\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            <Link to=\"/register\">\n              <button className=\"loginRegisterButton\">\n                {isFetching ? (\n                  <CircularProgress color=\"white\" size=\"20px\" />\n                ) : (\n                  \"Create a New Account\"\n                )}\n              </button>\n            </Link>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}","import \"./profile.css\"\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport axios from \"axios\"\nimport { useParams } from \"react-router\"\nimport { Edit } from \"@material-ui/icons\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Profile() {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState({});\n  const username = useParams().username;\n  const [editingDesc, setEditingDesc] = useState(false);\n  const [editingUserImg, setEditingUserImg] = useState(false);\n  const [editingCoverImg, setEditingCoverImg] = useState(false);\n  const [userImgFile, setUserImgFile] = useState(null);\n  const [coverImgFile, setCoverImgFile] = useState(null);\n  const desc = useRef();\n  const { user: currentUser } = useContext(AuthContext);\n\n  const editDescHandler = () => {\n    setEditingDesc(true);\n  }\n\n  const editProfileHandler = (e) => {\n    console.log(\"edit submit\")\n    const updateUser = {\n      userId: user._id,\n      desc: desc.current.value,\n    };\n    try {\n      axios.put(\"/users/\" + user._id, updateUser);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n    setEditingDesc(false);\n  }\n\n  const submitUserImgHandler = async (e) => {\n    e.preventDefault();\n    let newUser = {\n      userId: user._id,\n    };\n    if (userImgFile) {\n      const data = new FormData();\n      const fileName = Date.now() + userImgFile.name;\n      newUser = {\n        userId: user._id,\n        profilePicture: fileName,\n      };\n      data.append(\"name\", fileName);\n      data.append(\"file\", userImgFile);\n      newUser.profilePicture = fileName;\n      console.log(newUser);\n      try {\n        await axios.post(\"/upload\", data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    try {\n      await axios.put(\"/users/\" + user._id, newUser);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n    setEditingUserImg(false);\n  };\n\n  const submitCoverImgHandler = async (e) => {\n    e.preventDefault();\n    let newUser = {\n      userId: user._id,\n    };\n    if (coverImgFile) {\n      const data = new FormData();\n      const fileName = Date.now() + coverImgFile.name;\n      newUser = {\n        userId: user._id,\n        coverPicture: fileName,\n      };\n      data.append(\"name\", fileName);\n      data.append(\"file\", coverImgFile);\n      newUser.coverPicture = fileName;\n      console.log(newUser);\n      try {\n        await axios.post(\"/upload\", data);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    try {\n      await axios.put(\"/users/\" + user._id, newUser);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n    }\n    setEditingCoverImg(false);\n  };\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`/users?username=${username}`);\n      setUser(res.data);\n    }\n    fetchUser();\n  }, [username]);\n\n  // console.log(\"currentUser: \" + JSON.stringify(currentUser, null, 2));\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"profile\">\n        <div className=\"sidebarContainerProfile\">\n          <Sidebar />\n        </div>\n        <div className=\"profileRight\">\n          <div className=\"profileRightTop\">\n            <div className=\"profileCover\">\n\n              <form className=\"shareBottom\" onSubmit={submitCoverImgHandler}>\n                <img\n                  className=\"profileCoverImg\"\n                  src={user.coverPicture ? PF + user.coverPicture : PF + \"fish/noCover.jpg\"}\n                  alt=\"\"\n                />\n                <label htmlFor=\"coverImgFile\">\n                  {user._id === currentUser._id && (\n                    <span className=\"coverImgEdit\"><Edit htmlColor=\"Black\" className=\"editImg\" onClick={() => setEditingCoverImg(true)} /></span>\n                  )}\n                  <input\n                    className=\"inputhide\"\n                    type=\"file\"\n                    id=\"coverImgFile\"\n                    accept=\".png,.jpeg,.jpg\"\n                    onChange={(e) => setCoverImgFile(e.target.files[0])}\n                  />\n                </label>\n                {editingCoverImg && (\n                  <div className=\"messageboardC\">\n                    {!coverImgFile && (\n                      <p>File Name</p>\n                    )}\n                    {coverImgFile && (\n                      <p>{coverImgFile.name}</p>\n                    )}\n                    <div className=\"buttons\">\n                      <button className=\"cancelButton\" onClick={() => setEditingCoverImg(false)}>\n                        Cancel\n                      </button>\n                      <button className=\"uploadButton\" type=\"submit\">\n                        Upload Cover Image\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </form>\n\n\n              <form className=\"shareBottom\" onSubmit={submitUserImgHandler}>\n                <img\n                  className=\"profileUserImg\"\n                  src={user.profilePicture ? PF + user.profilePicture : PF + \"fish/noAvatar.jpg\"}\n                  alt=\"\"\n                />\n                <label htmlFor=\"userImgfile\">\n                  {user._id === currentUser._id && (\n                    <span className=\"userImgEdit\"><Edit htmlColor=\"Black\" className=\"editImg\" onClick={() => setEditingUserImg(true)} /></span>\n                  )}\n\n                  <input\n                    className=\"inputhide\"\n                    type=\"file\"\n                    id=\"userImgfile\"\n                    accept=\".png,.jpeg,.jpg\"\n                    onChange={(e) => setUserImgFile(e.target.files[0])}\n                  />\n                </label>\n                {editingUserImg && (\n                  <div className=\"messageboardU\">\n                    {!userImgFile && (\n                      <p>File Name</p>\n                    )}\n                    {userImgFile && (\n                      <p>{userImgFile.name}</p>\n                    )}\n                    <div className=\"buttons\">\n                      <button className=\"cancelButton\" onClick={() => setEditingUserImg(false)}>\n                        Cancel\n                      </button>\n                      <button className=\"uploadButton\" type=\"submit\">\n                        Upload Profile Image\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </form>\n            </div>\n\n\n            {!editingDesc && (\n              <div className=\"profileInfo\">\n                <h4 className=\"profileInfoName\">{user.username}</h4>\n                <span className=\"profileInfoDesc\">{user.desc ? user.desc : \"Add description\"}</span>\n                {user._id === currentUser._id && (\n                  <span className=\"descEdit\"><Edit htmlColor=\"Black\" className=\"editImg\" onClick={() => editDescHandler()} /></span>\n                )}\n\n              </div>\n            )}\n            {editingDesc && (\n              <form className=\"profileInfo\" onSubmit={editProfileHandler}>\n                <h4 className=\"profileInfoName\">{user.username}</h4>\n                <textarea\n                  defaultValue={user.desc}\n                  className=\"descForm\"\n                  ref={desc}\n                />\n                <div className=\"buttonsDesc\">\n                  <button className=\"cancelButton\" onClick={() => setEditingDesc(false)}>Cancel</button>\n                  <button className=\"uploadButton\" type=\"submit\">Submit</button>\n                </div>\n              </form>\n            )}\n          </div>\n\n          {user._id !== currentUser._id && (\n            <div className=\"rightbarContainerForSmallscreen\">\n              <Rightbar user={user} />\n            </div>\n          )}\n\n          <div className=\"profileRightBottom\">\n            <div className=\"feedContainerProfile\">\n              <Feed username={username} />\n            </div>\n            <div className=\"rightbarContainerProfile\">\n              <Rightbar user={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import \"./register.css\";\nimport { Link } from \"react-router-dom\"\nimport axios from \"axios\";\nimport { useRef } from \"react\";\nimport { useHistory } from \"react-router\";\n\n\nexport default function Register() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        await axios.post(\"/auth/register\", user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  return (\n    <div className=\"register\">\n      <div className=\"registerWrapper\">\n        <div className=\"registerLeft\">\n          <h3 className=\"registerLogo\">Under The Water</h3>\n          <span className=\"registerDesc\">\n            Connect with friends and the world around you.\n          </span>\n        </div>\n        <div className=\"registerRight\">\n          <form className=\"registerBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Username\"\n              required\n              ref={username}\n              className=\"registerInput\"\n            />\n            <input\n              placeholder=\"Email\"\n              required\n              ref={email}\n              className=\"registerInput\"\n              type=\"email\"\n            />\n            <input\n              placeholder=\"Password\"\n              required\n              ref={password}\n              className=\"registerInput\"\n              type=\"password\"\n              minLength=\"6\"\n            />\n            <input\n              placeholder=\"Password Again\"\n              required\n              ref={passwordAgain}\n              className=\"registerInput\"\n              type=\"password\"\n            />\n            <button className=\"registerButton\" type=\"submit\">\n              Sign Up\n            </button>\n            <Link to=\"/login\">\n              <button className=\"registerLoginButton\">\n                Log into Account\n              </button>\n            </Link>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}","import \"./rightbarPage.css\"\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\"\nimport axios from \"axios\"\n\nconst RightbarPage = () => {\n  const [user, setUser] = useState({});\n  const username = useParams().username;\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`/users?username=${username}`);\n      setUser(res.data);\n    }\n    fetchUser();\n  }, [username]);\n\n  return (\n\n    <div className=\"rightbarPage\">\n      <Topbar />\n      {user && (\n        <Rightbar user={user} />\n      )}\n      <Rightbar />\n    </div>\n  )\n}\n\nexport default RightbarPage\n","import React, { useState, useEffect } from 'react'\nimport Topbar from \"../../components/topbar/Topbar\";\n// import Sidebar from \"../../components/sidebar/Sidebar\";\nimport Post from \"../../components/post/Post\";\n// import Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useLocation } from \"react-router-dom\"\nimport axios from \"axios\";\n\nconst TargetPost = () => {\n  const location = useLocation();\n  const [postid, setPostid] = useState(location.pathname.substring(6));\n  const [post, setPost] = useState();\n\n  useEffect(() => {\n    const getTargetPost = async () => {\n      try {\n        const result = await axios.get(\"/posts/\" + postid);\n        setPost(result.data);\n\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getTargetPost();\n  }, [postid])\n\n  useEffect(() => {\n    setPostid(location.pathname.substring(6));\n  }, [location.pathname])\n\n  console.log(\"postid: \" + postid);\n\n  return (\n    <div className=\"targetPostPage\">\n      <Topbar />\n      {post && (\n        <Post post={post} />\n      )}\n    </div>\n  )\n}\n\nexport default TargetPost\n","import Home from \"./pages/home/Home\"\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport RightbarPage from \"./pages/rightbar/RightbarPage\";\nimport TargetPost from \"./pages/targetPost/TargetPost\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\nconst WIDTH_THRESHOLD_MEDIUM = 800;\n\nfunction App() {\n  const { user } = useContext(AuthContext);\n  const [width, setWidth] = useState(null)\n  const updateWidth = (event) => {\n    setWidth(window.innerWidth)\n  }\n\n\n  useEffect(() => {\n    window.addEventListener(`resize`, updateWidth, {\n      capture: false,\n      passive: true,\n    })\n    return () => window.removeEventListener(`resize`, updateWidth)\n  })\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Login />}\n        </Route>\n        <Route path=\"/login\">\n          {user ? <Redirect to=\"/\" /> : <Login />}\n        </Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          {user ? <Profile /> : <Redirect to=\"/login\" />}\n        </Route>\n        <Route path=\"/rightbar/:username\">\n          {user ? (width < WIDTH_THRESHOLD_MEDIUM ? <RightbarPage /> : <Profile />) : <Redirect to=\"/login\" />}\n        </Route>\n        <Route path=\"/post/:postid\">\n          {user ? <TargetPost /> : <Register />}\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}